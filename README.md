# Реализация MVVM в Unity

## Core 

### WindowFsm 

WindowFsm является стейт машиной по управлению окон на сцене. В ее работу включенны класс Window и интерфейс IWindow, которые выступают в роли представителей целевых окон. 
WindowFsm реализует интерфейс IWindowFsm. 

### Элементы MVVM: Model, ViewModel, View

#### Model 
Модель инкапсулирует в себе данные и бизнес-логику управления этими данными. Общий интерфейс, который объединяет все модели - **IModel**. Он не обязателен для реализация. 

#### ViewModel
Реализуется путем наследования от абстрактного класса _BaseViewModel_, который в свою очередь реализует интерфейс _IViewModel_. 
Интерфейс _IViewModel_ требует обязательно к реализаци два **event Action** и два **метода**: 
1. _**InvokedOpen**_ - событие на которое подписывается View и срабатывает, когда оно открывается;
2. _**InvokedClose**_ - событие на которое подписывается View и срабатывает, когда оно закрывается;
3. _**InvokeOpen**_ - метод, в котором производится подготовка данных перед открытием представления;
4. _**InvokeClose**_ - метод, в котором производится подготовка данных перед закрытием представления.
Кроме этого, данные методы могут быть использованы для вызова открытия/закрытия представления.

_BaseViewModel_ дает базовые реализации методов и связь между _ViewModel_ и _IWindowFsm_.

